@using GAMES_MARKET.Models;
@model JuegosModel
@{
    ViewBag.Title = "Home Page";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<section>
    <div class="container-fluid">
        <div class="row justify-content-center">
            @*CAROUSEL*@
            @if (ViewData["ofertas"] != null)
            {
                <div class="col-12">
                    <h2 class="d-none d-md-flex justify-content-center">Ofertas</h2>
                </div>

                <div class="col-12 p-0 col-md-6 p-md-4">
                    <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">

                        <ol class="carousel-indicators">
                            @{ var counter2 = 1; }
                            @foreach (var item in ViewData["ofertas"] as List<JuegosModel>)
                            {
                                {
                                    if (counter2 % 5 == 0)
                                    {
                                        @:
                                    }
                                    else
                                    {
                                        <li data-target="#carouselExampleCaptions" data-slide-to="@counter2"></li>
                                    }
                                    counter2++;
                                }
                            }
                        </ol>
                        <div class="carousel-inner">
                            @{counter2 = 1; }
                            @foreach (var item in ViewData["ofertas"] as List<JuegosModel>)
                            {

                                {
                                    if (counter2 % 5 == 0)
                                    {
                                        @:
                                    }
                                    if (counter2 == 1)
                                    {
                                        <div class="carousel-item active">
                                            <a href="../Games/Game/@item.id_juego">
                                                <img src="../../Client/shared/img/gamescover/@item.img_ruta" class="d-block w-100" alt="@item.nombre">
                                            </a>
                                            <div class="carousel-caption">
                                                <h5>[@item.nombre_plataforma] @item.nombre</h5>
                                                <span>@item.precio€ (-@item.descuento%)</span>
                                            </div>
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="carousel-item">
                                            <a href="../Games/Game/@item.id_juego">
                                                <img src="../../Client/shared/img/gamescover/@item.img_ruta" class="d-block w-100" alt="@item.nombre">
                                            </a>
                                            <div class="carousel-caption">
                                                <h5>[@item.nombre_plataforma] @item.nombre</h5>
                                                <span>@item.precio€ (-@item.descuento%)</span>
                                            </div>
                                        </div>
                                    }
                                    counter2++;
                                }
                            }
                        </div>
                        <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>

                    </div>

                </div>
            }
        </div>
    </div>
</section>

<section>
    <div class="container-fluid">
        <h2>Últimos lanzamientos</h2>
        <div class="row">
            @{ var counter = 1; }
            @foreach (var item in ViewData["juego"] as List<JuegosModel>)
            {
                {
                    if (counter % 7 == 0)
                    {
                        @:
                    }
                    else
                    {
                        <div class="col-md-4">
                            <div class="card mb-4 shadow-sm">
                                <a href="../Games/Game/@item.id_juego">
                                    <img src="../../Client/shared/img/gamescover/@item.img_ruta" class="d-block w-100" alt="@item.nombre">
                                </a>
                                <div class="row card-body">

                                    <div class="col-12">
                                        <div class="game-last-tittle">
                                            <a href="../Games/Game/@item.id_juego">
                                                <p class="card-text">@item.nombre</p>
                                            </a>
                                        </div>
                                    </div>

                                    <div class="col-12">
                                        <p class="card-text">@item.descripcion</p>
                                    </div>

                                    <div class="col-6">
                                        <img src="~/Client/shared/img/logos/@item.img_rutaPlataforma" class="game-last-logo" alt="@item.nombre_plataforma">
                                    </div>
                                    <div class="col-6 text-right">
                                        <p class="game-last-price">@item.precio€</p>
                                    </div>

                                </div>
                            </div>
                        </div>
                    }
                    counter++;

                }

            }
        </div>
    </div>
</section>


